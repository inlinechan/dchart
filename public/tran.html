<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <style>

         body {
             font: 10px sans-serif;
         }

         .axis path,
         .axis line {
             fill: none;
             stroke: #000;
             shape-rendering: crispEdges;
         }

         /* .x.axis path {
            display: none;
            } */

         .line {
             fill: none;
             stroke: steelblue;
             stroke-width: 1.5px;
         }

        </style>
    </head>
    <body>
        <div class="chart"></div>
        <!-- <div class="chart"></div> -->
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script src="tran.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script>
         var socket = io();

         var chart = lineChart()
         .width(640)
         .height(300);

         var data = [
             {id: 1, value: 1000, cost: 100},
             {id: 2, value: 1100, cost: 400},
             {id: 3, value: 1150, cost: 500},
             {id: 4, value: 1120, cost: 700},
             {id: 5, value: 1200, cost: 400},
         ];

         var svg = d3.selectAll(".chart")
                     .data([data])
                     .call(chart);

         socket.on('data', function(line) {
             var update = chart.update;
             var ar = line.split(' ');
             var data = {id: +ar[0], value: +ar[1], cost: +ar[2]};
             d3.selectAll(".chart")
               .call(update, data);

             /* console.log('data: ' + data); */
         });
        </script>
    </body>
</html>
